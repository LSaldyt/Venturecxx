<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description>Clean up nonsense that other builds leave behind in /tmp, to conserve disk space on the small partition</description>
  <keepDependencies>false</keepDependencies>
  <properties/>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers>
    <hudson.triggers.TimerTrigger>
      <spec>@daily</spec>
    </hudson.triggers.TimerTrigger>
  </triggers>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>#!/bin/bash -xe

# Flush old temporary files
find /tmp -maxdepth 1 -readable -atime +0 | xargs -l -I{} find {} -atime +0 -user jenkins -print -delete
# Flush old empty temporary directories
find /tmp -maxdepth 1 -readable -atime +0 | xargs -l -I{} find {} -user jenkins -type d -empty -print -delete
# Flush unused Docker containers, ignoring failure to remove running ones
(docker ps -a -q | xargs docker rm) || true
# Flush untagged Docker images
docker images | grep &quot;&lt;none&gt;&quot; | awk &quot;{print \$3}&quot; | xargs --no-run-if-empty docker rmi</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>